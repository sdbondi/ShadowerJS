(function(a,e){function f(h,g){return function(){return h.apply(g,arguments)}}function d(g){return Array.prototype.slice.call(g)}function c(g){var h=curTop=0;if(!g.offsetParent){return{left:g.offsetLeft,top:g.offsetTop}}do{h+=g.offsetLeft;curTop+=g.offsetTop}while(g=g.offsetParent);return{left:h,top:curTop}}var b=function(){this.init.apply(this,arguments)};b.prototype={init:function(h,g){if(typeof h!="object"){throw new TypeError("Illegal constructor")}this.elem=h;this.elemPos=c(h);this.isText=(!!h.firstChild&&h.firstChild.nodeType==3);this.options=this.checkOptions(g);this.bindEvents()},elem:null,isText:false,options:{},events:{document_Mousemove:function(h){var g=this.elemPos.left-h.clientX;var k=this.elemPos.top-h.clientY;var j=Math.sqrt(Math.abs(g)^2+Math.abs(k)^2),i=this.options.diffusion*Math.round(j/10);a.getElementById("box").innerHTML=g+", "+k+"="+Math.round(j);g*=this.options.factor;k*=this.options.factor;if(this.isText){this.elem.setAttribute("style","text-shadow: "+g+"px "+k+"px "+i+"px "+this.options.color)}else{this.elem.setAttribute("style","box-shadow: "+g+"px "+k+"px "+i+"px "+this.options.color)}}},checkOptions:function(g){g=g||{};return{color:g.color||"black",diffusion:+g.diffusion,factor:+g.factor}},bindEvents:function(){this.events.document_Mousemove.fn=f(this.events.document_Mousemove,this);a.addEventListener("mousemove",this.events.document_Mousemove.fn,true)},tearDown:function(){a.removeEventListener("mousemove",this.events.document_Mousemove.fn,true)}};b.applyTo=function(g,h){var i=[];if(typeof g=="string"){g=d(a.querySelectorAll(g))}g.forEach(function(j){i.push(new b(j,h))})};if(typeof self.jQuery!="undefined"){jQuery.fn.Shadower=function(g){b.applyTo($(this),g)}}if(typeof define==="function"&&define.amd){define("shadower",[],function(){return b})}self.Shadower=b})(self.document);